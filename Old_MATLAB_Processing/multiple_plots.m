%% Animal info
plot_type = 'cum_dist'; % 'cum_dist' or 'peaks'
source = 'movement_profiles.xlsx';

animal_info = struct('name', {'LB21', 'LB21', 'LB21', 'LB21', ...
    'LB21s2', 'LB21s2', 'LB21s2', 'LB21s2', 'LB21s2'},...
    'starting', {datenum(2016, 7, 2, 0, 0, 0),...
                 datenum(2016, 7, 3, 0, 0, 0),...
                 datenum(2016, 7, 4, 0, 0, 0),...
                 datenum(2016, 7, 5, 0, 0, 0),...
                 datenum(2016, 7, 30, 0, 0, 0),...
                 datenum(2016, 7, 31, 0, 0, 0),...
                 datenum(2016, 8, 1, 0, 0, 0),...
                 datenum(2016, 8, 2, 0, 0, 0),...
                 datenum(2016, 8, 3, 0, 0, 0)},...
     'ending', {datenum(2016, 7, 2, 21, 0, 0),...
                 datenum(2016, 7, 3, 21, 0, 0),...
                 datenum(2016, 7, 4, 21, 0, 0),...
                 datenum(2016, 7, 5, 21, 0, 0),...
                 datenum(2016, 7, 30, 21, 0, 0),...
                 datenum(2016, 7, 31, 21, 0, 0),...
                 datenum(2016, 8, 1, 21, 0, 0),...
                 datenum(2016, 8, 2, 21, 0, 0),...
                 datenum(2016, 8, 3, 21, 0, 0)});

% animal_info = struct('name', {'Or130', 'Or130', 'Or130', 'Or130', 'Or130', 'Or130',...
%     'Or114', 'Or114', 'Or114', 'Or114', 'Or114', 'Or114'},...
%     'starting', {datenum(2016, 7, 23, 0, 0, 0),...
%                 datenum(2016, 7, 24, 0, 0, 0),...
%                 datenum(2016, 7, 25, 0, 0, 0),...
%                 datenum(2016, 7, 26, 0, 0, 0),...
%                 datenum(2016, 7, 27, 0, 0, 0),...
%                 datenum(2016, 7, 28, 0, 0, 0),...
%                 datenum(2016, 7, 26, 0, 0, 0),...
%                 datenum(2016, 7, 27, 0, 0, 0),...
%                 datenum(2016, 7, 28, 0, 0, 0),...
%                 datenum(2016, 7, 29, 0, 0, 0),...
%                 datenum(2016, 8, 1, 0, 0, 0),...
%                 datenum(2016, 8, 2, 0, 0, 0)},...
%     'ending', {datenum(2016, 7, 23, 21, 0, 0),...
%                 datenum(2016, 7, 24, 21, 0, 0),...
%                 datenum(2016, 7, 25, 21, 0, 0),...
%                 datenum(2016, 7, 26, 21, 0, 0),...
%                 datenum(2016, 7, 27, 21, 0, 0),...
%                 datenum(2016, 7, 28, 21, 0, 0),...
%                 datenum(2016, 7, 26, 21, 0, 0),...
%                 datenum(2016, 7, 27, 21, 0, 0),...
%                 datenum(2016, 7, 28, 21, 0, 0),...
%                 datenum(2016, 7, 29, 21, 0, 0),...
%                 datenum(2016, 8, 1, 21, 0, 0),...
%                 datenum(2016, 8, 2, 21, 0, 0)});

% animal_info = struct('name', {'Z1Pi229', 'Z1Pi229', 'Z1Pi229', 'Z1Pi229', 'Z1Pi229', 'Z1Pi229',...
%     'Z1Pi230', 'Z1Pi230', 'Z1Pi230', 'Z1Pi230', 'Z1Pi230', 'Z1Pi230'},...
%     'starting', {datenum(2016, 8, 9, 0, 0, 0),...
%                 datenum(2016, 8, 10, 0, 0, 0),...
%                 datenum(2016, 8, 11, 0, 0, 0),...
%                 datenum(2016, 8, 12, 0, 0, 0),...
%                 datenum(2016, 8, 13, 0, 0, 0),...
%                 datenum(2016, 8, 14, 0, 0, 0),...
%                 datenum(2016, 8, 9, 0, 0, 0),...
%                 datenum(2016, 8, 10, 0, 0, 0),...
%                 datenum(2016, 8, 11, 0, 0, 0),...
%                 datenum(2016, 8, 12, 0, 0, 0),...
%                 datenum(2016, 8, 13, 0, 0, 0),...
%                 datenum(2016, 8, 14, 0, 0, 0)},...
%     'ending', {datenum(2016, 8, 9, 21, 0, 0),...
%                 datenum(2016, 8, 10, 21, 0, 0),...
%                 datenum(2016, 8, 11, 21, 0, 0),...
%                 datenum(2016, 8, 12, 21, 0, 0),...
%                 datenum(2016, 8, 13, 21, 0, 0),...
%                 datenum(2016, 8, 14, 21, 0, 0),...
%                 datenum(2016, 8, 9, 21, 0, 0),...
%                 datenum(2016, 8, 10, 21, 0, 0),...
%                 datenum(2016, 8, 11, 21, 0, 0),...
%                 datenum(2016, 8, 12, 21, 0, 0),...
%                 datenum(2016, 8, 13, 21, 0, 0),...
%                 datenum(2016, 8, 14, 21, 0, 0)});

% if false
%     animal_info = struct('name', {'2CW305', '2CW306', '2CW308', 'LB21', ...
%                                   'LB15', '2CW312', 'LB06', '2CW318'},...
%                          'starting', {datenum(2016, 7, 16, 0, 0, 0),...
%                                       datenum(2016, 7, 20, 0, 0, 0),...
%                                       datenum(2016, 7, 15, 0, 0, 0),...
%                                       datenum(2016, 7, 4, 0, 0, 0),...
%                                       datenum(2016, 7, 12, 0, 0, 0),...
%                                       datenum(2016, 7, 13, 0, 0, 0),...
%                                       datenum(2016, 7, 20, 0, 0, 0),...
%                                       datenum(2016, 6, 30, 0, 0, 0)}, ...
%                          'ending',   {datenum(2016, 7, 16, 21, 0, 0),...
%                                       datenum(2016, 7, 20, 21, 0, 0),...
%                                       datenum(2016, 7, 15, 21, 0, 0),...
%                                       datenum(2016, 7, 4, 21, 0, 0),...
%                                       datenum(2016, 7, 12, 21, 0, 0),...
%                                       datenum(2016, 7, 13, 21, 0, 0),...
%                                       datenum(2016, 7, 20, 21, 0, 0),...
%                                       datenum(2016, 6, 30, 21, 0, 0)},...
%                          'coef', {1,1,1,1,1,1,1,1});
% elseif true
%          animal_info = struct('name', {'LB21', 'LB21', 'LB21', 'LB21', ...
%              'LB15' , 'LB15', ...
%              'LB06', 'LB06', ...
%              'Or130', 'Or130', 'Or130',...
%              '2CW318', '2CW318', ...
%              '2CW312', '2CW312', '2CW312', ...
%              '2CW305', '2CW306', '2CW306', '2CW306', ...
%              '2CW308', '2CW308', '2CW308', ...
%              '2CW317', '2CW317', '2CW317', '2CW317', ...
%              'Z1Pi229', 'Z1Pi229', 'Z1Pi229', ...
%              'Z1Pi230', 'Z1Pi230', 'Z1Pi230'},...
%                          'starting', {datenum(2016, 7, 2, 0, 0, 0),...  %LB21
%                                       datenum(2016, 7, 3, 0, 0, 0),...
%                                       datenum(2016, 7, 4, 0, 0, 0),...
%                                       datenum(2016, 7, 5, 0, 0, 0),...
%                                       datenum(2016, 7, 12, 0, 0, 0),... %LB15
%                                       datenum(2016, 7, 13, 0, 0, 0),...
%                                       datenum(2016, 7, 18, 0, 0, 0),...  %LB06
%                                       datenum(2016, 7, 20, 0, 0, 0), ...
%                                       datenum(2016, 7, 23, 0, 0, 0), ... %Or130
%                                       datenum(2016, 7, 24, 0, 0, 0), ...
%                                       datenum(2016, 7, 25, 0, 0, 0), ...
%                                       datenum(2016, 6, 29, 0, 0, 0),... %2CW318
%                                       datenum(2016, 6, 30, 0, 0, 0),...
%                                       datenum(2016, 7, 8, 0, 0, 0),...  %2CW312
%                                       datenum(2016, 7, 13, 0, 0, 0),...
%                                       datenum(2016, 7, 14, 0, 0, 0),...
%                                       datenum(2016, 7, 16, 0, 0, 0),...  %2CW305
%                                       datenum(2016, 7, 20, 0, 0, 0),...  %2CW306
%                                       datenum(2016, 7, 21, 0, 0, 0),...  
%                                       datenum(2016, 7, 22, 0, 0, 0),...  
%                                       datenum(2016, 7, 15, 0, 0, 0),...  %2CW308
%                                       datenum(2016, 7, 16, 0, 0, 0),...
%                                       datenum(2016, 7, 17, 0, 0, 0),...
%                                       datenum(2016, 7, 21, 0, 0, 0),...  %2CW317
%                                       datenum(2016, 7, 23, 0, 0, 0),...
%                                       datenum(2016, 7, 24, 0, 0, 0),...
%                                       datenum(2016, 7, 25, 0, 0, 0),...
%                                       datenum(2016, 8, 4, 0, 0, 0),...   %Z1Pi229
%                                       datenum(2016, 8, 9, 0, 0, 0),...
%                                       datenum(2016, 8, 10, 0, 0, 0),...
%                                       datenum(2016, 8, 4, 0, 0, 0),...  %Z1Pi230
%                                       datenum(2016, 8, 9, 0, 0, 0),...
%                                       datenum(2016, 8, 10, 0, 0, 0)},...                
%                          'ending',   {datenum(2016, 7, 2, 21, 0, 0),...  %LB21
%                                       datenum(2016, 7, 3, 21, 0, 0),...
%                                       datenum(2016, 7, 4, 21, 0, 0),...
%                                       datenum(2016, 7, 5, 21, 0, 0),...
%                                       datenum(2016, 7, 12, 21, 0, 0),... %LB15
%                                       datenum(2016, 7, 13, 21, 0, 0),...
%                                       datenum(2016, 7, 18, 21, 0, 0),...  %LB06
%                                       datenum(2016, 7, 20, 21, 0, 0), ...
%                                       datenum(2016, 7, 23, 21, 0, 0), ... %Or130
%                                       datenum(2016, 7, 24, 21, 0, 0), ...
%                                       datenum(2016, 7, 25, 21, 0, 0), ...
%                                       datenum(2016, 6, 29, 21, 0, 0),... %2CW318
%                                       datenum(2016, 6, 30, 21, 0, 0),...
%                                       datenum(2016, 7, 8, 21, 0, 0),...  %2CW312
%                                       datenum(2016, 7, 13, 21, 0, 0),...
%                                       datenum(2016, 7, 14, 21, 0, 0),...
%                                       datenum(2016, 7, 16, 21, 0, 0),...  %2CW305
%                                       datenum(2016, 7, 20, 21, 0, 0),...  %2CW306
%                                       datenum(2016, 7, 21, 21, 0, 0),...  
%                                       datenum(2016, 7, 22, 21, 0, 0),...  
%                                       datenum(2016, 7, 15, 21, 0, 0),...  %2CW308
%                                       datenum(2016, 7, 16, 21, 0, 0),...
%                                       datenum(2016, 7, 17, 21, 0, 0),...
%                                       datenum(2016, 7, 21, 21, 0, 0),...  %2CW317
%                                       datenum(2016, 7, 23, 21, 0, 0),...
%                                       datenum(2016, 7, 24, 21, 0, 0),...
%                                       datenum(2016, 7, 25, 21, 0, 0),...
%                                       datenum(2016, 8, 4, 21, 0, 0),...   %Z1Pi229
%                                       datenum(2016, 8, 9, 21, 0, 0),...
%                                       datenum(2016, 8, 10, 21, 0, 0),...
%                                       datenum(2016, 8, 4, 21, 0, 0),...  %Z1Pi230
%                                       datenum(2016, 8, 9, 21, 0, 0),...
%                                       datenum(2016, 8, 10, 21, 0, 0)});          
% elseif false
%          animal_info = struct('name', {'2CW318', '2CW318', 'LB21', 'LB21', ...
%              'LB21', 'LB21', '2CW312', '2CW312', '2CW312', 'LB15' , 'LB15', ...
%              '2CW308', '2CW308',...
%              'LB06', 'LB06'},...
%                          'starting', {datenum(2016, 6, 29, 0, 0, 0),... %2CW318
%                                       datenum(2016, 6, 30, 0, 0, 0),...
%                                       datenum(2016, 7, 2, 0, 0, 0),...  %LB21
%                                       datenum(2016, 7, 3, 0, 0, 0),...
%                                       datenum(2016, 7, 4, 0, 0, 0),...
%                                       datenum(2016, 7, 5, 0, 0, 0),...
%                                       datenum(2016, 7, 8, 0, 0, 0),...  %2CW312
%                                       datenum(2016, 7, 13, 0, 0, 0),...
%                                       datenum(2016, 7, 14, 0, 0, 0),...
%                                       datenum(2016, 7, 12, 0, 0, 0),... %LB15
%                                       datenum(2016, 7, 13, 0, 0, 0),...
%                                       datenum(2016, 7, 16, 0, 0, 0),...%2CW308
%                                       datenum(2016, 7, 17, 0, 0, 0),...
%                                       datenum(2016, 7, 18, 0, 0, 0),...  %LB06
%                                       datenum(2016, 7, 20, 0, 0, 0)}, ...
%                          'ending',   {datenum(2016, 6, 29, 21, 0, 0),... %2CW318
%                                       datenum(2016, 6, 30, 21, 0, 0),...
%                                       datenum(2016, 7, 2, 21, 0, 0),...  %LB21
%                                       datenum(2016, 7, 3, 21, 0, 0),...
%                                       datenum(2016, 7, 4, 21, 0, 0),...
%                                       datenum(2016, 7, 5, 21, 0, 0),...
%                                       datenum(2016, 7, 8, 21, 0, 0),...  %2CW312
%                                       datenum(2016, 7, 13, 21, 0, 0),...
%                                       datenum(2016, 7, 14, 21, 0, 0),...
%                                       datenum(2016, 7, 12, 21, 0, 0),... %LB15
%                                       datenum(2016, 7, 13, 21, 0, 0),...
%                                       datenum(2016, 7, 16, 21, 0, 0),... %2CW308
%                                       datenum(2016, 7, 17, 21, 0, 0),...
%                                       datenum(2016, 7, 18, 21, 0, 0),...  %LB06
%                                       datenum(2016, 7, 20, 21, 0, 0)});
% end
        

%% Process
hold on;
n = length(animal_info);
for i = 1 : n
    i
    % Read in the speed/distance info
    raw = xlsread(source, animal_info(i).name);

    timestamps = datenum(raw(:,1:6));
    speed = raw(:,7);
    jumps = raw(:,8);
    dist = raw(:,9);
    

    starting = animal_info(i).starting;
    ending = animal_info(i).ending;
    
    times = timestamps(timestamps > starting & timestamps < ending);
    speed = speed(timestamps > starting & timestamps < ending);
    jumps = jumps(timestamps > starting & timestamps < ending);
    dist = dist(timestamps > starting & timestamps < ending);
    
    plot(times - starting, cumsum(dist));
    % Start plotting
%     if strcmp(plot_type, 'cum_dist')
%         if i <= 4 
%             g1 = plot(times - starting, cumsum(dist), 'c--', 'LineWidth',2);
%         elseif i <= 6
%             g2 = plot(times - starting, cumsum(dist), 'g--', 'LineWidth',2);
%         elseif i <= 8
%             g3 = plot(times - starting, cumsum(dist), 'b--', 'LineWidth',2);
%         elseif i <= 11
%             g4 = plot(times - starting, cumsum(dist), '--', 'Color', [165 130 240]/255, 'LineWidth',2);
%         elseif i <= 13
%             g5 = plot(times - starting, cumsum(dist), 'r-', 'LineWidth',2);
%         elseif i <= 16
%             g6 = plot(times - starting, cumsum(dist), 'Color', [255 165 0]/255, 'LineWidth',2);
%         elseif i <= 17
%             g7 = plot(times - starting, cumsum(dist), 'Color', [180 64 16]/255, 'LineWidth',2);
%         elseif i <= 20
%             g8 = plot(times - starting, cumsum(dist), 'm-', 'LineWidth',2);
%         elseif i <= 23
%             g9 = plot(times - starting, cumsum(dist), 'y-', 'LineWidth',2);
%         elseif i <= 27
%             g10 = plot(times - starting, cumsum(dist), 'k-', 'LineWidth',2);
%         elseif i <= 30
%             g11 = plot(times - starting, cumsum(dist), 'k-', 'LineWidth', 5);
%         else
%             g12 = plot(times - starting, cumsum(dist), 'm-', 'LineWidth', 5);
%         end
%     elseif strcmp(plot_type, 'peaks')
%         peaks = raw(:,10);
%         peaktimes = timestamps(timestamps > starting & timestamps < ending & peaks);
%         if i <= 4 
%             g1 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled', 'c');
%         elseif i <= 6
%             g2 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','g');
%         elseif i <= 8
%             g3 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','b');
%         elseif i <= 11
%             g4 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled', 'MarkerFaceColor', [165 130 240]/255);
%         elseif i <= 13
%             g5 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','r');
%         elseif i <= 16
%             g6 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','MarkerFaceColor', [255 165 0]/255);
%         elseif i <= 17
%             g7 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','MarkerFaceColor', [180 64 16]/255);
%         elseif i <= 20
%             g8 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','m');
%         elseif i <= 23
%             g9 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','y');
%         else
%             g10 = scatter(peaktimes - starting, ones(1, length(peaktimes)) * (n - i), 'filled','k');
%         end
%         %scatter(peaktimes - starting, ones(1, length(peaktimes)) * i, 'filled');
%     end


end
legend({'LB21 d1', 'LB21 d2', 'LB21 d3', 'LB21 d4', 'LB21s2 d1', ...
    'LB21s2 d2', 'LB21s2 d3', 'LB21s2 d4', 'LB21s2 d5'});
% legend([g1 g2 g3 g4 g5 g6 g7 g8 g9 g10 g11 g12], {'LB21','LB15', 'LB06', 'Or130',...
%     '2CW318', '2CW312', '2CW305', '2CW306', '2CW308', '2CW317', 'Z1Pi229', 'Z1Pi230'})
% legend({'LB21 7/2', 'LB21 7/3', 'LB21 7/4', 'LB21 7/5', ...
%              'LB15 7/12' , 'LB15 7/13', ...
%              'LB06 7/18', 'LB06 7/20', ...
%              'Or130 7/23', 'Or130 7/24', 'Or130 7/25',... 
%              '2CW318 6/29', '2CW318 6/30', ...
%              '2CW312 7/8', '2CW312 7/13', '2CW312 7/14', ...
%              '2CW305 7/16', '2CW306 7/20', '2CW306 7/21', '2CW306 7/22', ...
%              '2CW308 7/15', '2CW308 7/16', '2CW308 7/17', ...
%              '2CW317 7/21', '2CW317 7/23', '2CW317 7/24', '2CW317 7/25'});
datetick('x', 'HHPM');

